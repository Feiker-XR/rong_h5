<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
</head>
<body>
<div id="j_p">
    <div id="leftNav" class="nav-fixed-left"></div>

    <!--html start-->
    <div id="j_plat_state"></div>
    <div class=" hide"  id="j_plat">
        <div class="m-form1" id="j_con_left"></div>
        <div class="m-main label_content" id="j_con_right"></div>
        <div id="j_con_tipsPhoton"></div>
        <input type="hidden" value=0 id="j_flags_ae">
    </div>
    <!--html end-->
    <script id="j_view_left"  type="text/html" style="display:none">
        <div class="panel">
            <div class="panel-content filler">
                <div class="activityTit">商品管理</div>
                <div class="panel-header">
                    <button class="btn" data-toggle="modal" data-op="showBrandModal1">新建品牌</button>
                </div>
                <div class="sidebarMenuHolder">
                    <div class="JStree">
                        <div id="jstree" class="jstree jstree-0 jstree-focused jstree-default">
                            <ul>
                                {{var brandList=it.hfive_weidian_brand_list_response.list;}}
                                {{for(var i=0;i<brandList.length;i++){}}
                                    {{var item=brandList[i];}}
                                    <li class="jstree-leaf" id="{{=item.brand_id}}">
                                        <ins class="jstree-icon">&nbsp;</ins>
                                        <a href="javascript:void(0)">
                                            <ins class="jstree-icon">&nbsp;</ins>
                                            <span data_id="activityName">{{=item.brand_name||''}}</span>
                                        </a>
                                    </li>
                                {{};}}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-slider">
                <div class="panel-slider-center">
                    <div class="panel-slider-arrow"></div>
                </div>
            </div>
        </div>
        <!--新建品牌-->
        <div id="brandAddEdit" class="modal hide fade">
            
        </div>
    </script>
    <script id="j_view_right"  type="text/html" style="display:none">
        <div class="main-content">
            <div class="breadcrumb-container">
                <ul class="xbreadcrumbs" data_id="navTop">
                    <li>
                        <a href="javascript:void(0);">
                            <i class="icon-photon home margint3"></i>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:void(0);">微商城</a>
                    </li>
                    <li class="current">
                        <a href="javascript:void(0);">商品管理</a>
                    </li>
                </ul>
            </div>
            <div class="brandInfoCon">
                
            </div>
            <div class="form-horizontal">
                <div class="container-fluid">
                   <div class="row-fluid">
                       <div class="span12">
                            <div class="dataTables_length awardTit"><label class="margin020"><button type="button" class="btn" data-toggle="modal" data-op="addGood">添加商品</button></label></div>
                            <div class="dataTables_filter">
                                <label class="margin020">
                                    <input type="text" aria-controls="tableSortableResMed" placeholder="商品名称" data_id="searchKey">
                                    <button class="btn" data-op="serchGood">搜索</button>
                                </label>
                            </div>
                            <div data_id="awardList"></div>
                            <div class="dataTables_paginate paging_bootstrap pagination">
                                <ul class="margin020" data_id="pageShow">
                                        <li class="prev"><a href="javascript:void(0);">«</a></li>
                                        <li class="next"><a href="javascript:void(0);">»</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--新建商品-->
        <div id="goodsAddClass" class="modal hide fade"></div>
        <div id="goodsAddEdit" class="modal hide fade"></div>
        <div id="goodsAddEditLast" class="modal hide fade"></div>
        /*创建tag标签*/
        <input type="hidden" id="crateTags_flag" data_flag=0 />
        <div id="crateTags" class="modal hide fade">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3>添加规格值</h3>
            </div>
            <div class="modal-body form-horizontal">
                <input name="tags" id="tags" value="" />
            </div>
            <div class="modal-footer">
                <a href="javascript:;" class="btn btn-primary" data-op="crateTags">确定</a>
                <a href="javascript:;" class="btn" data-dismiss="modal" data-op="cancelTags">取消</a>
            </div>
        </div>
    </script>
    <!--添加商品类目modal-->
    <script id="j_view_goodsClass_Modal"  type="text/html" style="display:none">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>添加商品-选择类目</h3>
        </div>
        <div class="modal-body form-horizontal">
            {{var goodClassList=it.hfive_weidian_category_list_response.orders||0;}}
            {{for(var i=0;i<goodClassList.length;i++){}}
                {{var item=goodClassList[i];}}
                    <dl class="j_gdCls" data_id={{=item.cat_id||""}} data_name={{=item.cat_name || ''}} data-op="selGoodsClassList" data-toggle="modal" type="button" data-target="#goodsAddEdit">
                        <dt>
                            <img src="{{=item.cat_pic ||'../../../img/weMall/goods/tou.png'}}" class="img-polaroid">
                        </dt>
                        <dd>
                            <p>{{=item.cat_name||"类目名称"}}</p>
                        </dd>
                    </dl>
            {{};}}
        </div>
    </script>
    <!--添加商品一modal-->
    <script id="j_view_goodsAddEdit_Modal"  type="text/html" style="display:none">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>商品编辑</h3>
        </div>
        <div class="modal-body form-horizontal">
         <div class="container-fluid">
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">商品类目：</label>
                </div>
                <div class="span9">
                    <div class="controls">
                        <input type="text" id="goodsOne_categoryName" value="{{=it.category_name||''}}" readonly="readonly">
                    </div>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">商品名称：</label>
                </div>
                <div class="span9">
                    <div class="controls">
                        <input type="text" id="goodsName" value={{=it.name||''}}>
                    </div>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span12">
                    <label class="control-label">展示图片：最多可添加6张，建议尺寸</label>
                </div>
                <div id="showImgs" class="span11">
                    {{if(!it.images){}}
                        <div class="control-group row-fluid" data_id="j_upLoad" id="j_img1" data_index=1>
                            <div class="span10">
                                <div class="fileupload fileupload-new" data-provides="fileupload">
                                    <div class="input-append">
                                        <div class="uneditable-input span3">
                                            <i class="icon-file fileupload-exists"></i>
                                            <span class="fileupload-preview"></span>
                                        </div>
                                        <span class="btn btn-file"><span class="fileupload-new">选择上传图片</span><span class="fileupload-exists">更改上传图片</span>
                                        <input type="file" data_id="imgFile" id="goodsAddUrl" url='' /></span>
                                    </div>
                                </div>
                            </div>
                            <div class="span2">
                                <div class="control-label entypo">
                                    <span class="circlePlus" data-original-title="circled-plus" data-op="goodsImgAdd" data_flag=0>⊕</span>
                                </div>
                            </div>
                        </div>
                    {{}else{}}
                        {{for(var i=0;i<it.images.length;i++){}}
                                <div class="control-group row-fluid" data_id="j_upLoad" id="j_img{{=i}}" data_index={{=i}}>
                                    <div class="span10">
                                        <div class="fileupload fileupload-new" data-provides="fileupload">
                                            <div class="input-append">
                                                <div class="uneditable-input span3">
                                                    <i class="icon-file fileupload-exists"></i>
                                                    <span class="fileupload-preview">{{=it.images[i].image || ''}}</span>
                                                </div>
                                                <span class="btn btn-file"><span class="fileupload-new">选择上传图片</span><span class="fileupload-exists">更改上传图片</span>
                                                <input type="file" data_id="imgFile" id="goodsAddUrl" url={{=it.images[i].image || ''}} /></span>
                                            </div>
                                        </div>
                                    </div>
                                    {{if(!i){}}
                                        <div class="span2">
                                            <div class="control-label entypo">
                                                <span class="circlePlus" data-original-title="circled-plus" data-op="goodsImgAdd" data_flag=0>⊕</span>
                                            </div>
                                        </div>
                                    {{}else{}}
                                        <div class="span2">
                                            <div class="control-label entypo">
                                                <span class="circlePlus" data-original-title="circled-minus" data-op="goodsImgRemove">⊖</span>
                                            </div>
                                        </div>
                                    {{};}}
                                </div>                            
                        {{};}}
                    {{};}}

                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">商品描述:</label>
                </div>
                <div class="span9">
                    <div class="controls" id="j_ueditor"></div>
                </div>
            </div>
        </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn" data-dismiss="modal" data-op="calcel_goodsNext">取消</a>
            <a href="javascript:;" class="btn btn-primary" data-toggle="modal" type="button" data-target="#goodsAddEditLast" data-op="goodsNext">下一步</a>
        </div>
    </script>
    <!--添加商品二modal-->
    <script id="j_view_goodsAddEditLast_Modal"  type="text/html" style="display:none">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>商品编辑</h3>
        </div>
        <div class="modal-body form-horizontal">
         <div class="container-fluid">
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">商品价格:</label>
                </div>
                <div class="span9">
                    <div class="controls">
                        <input type="text" id="goodsPrice" value="{{=it.price || ''}}" >
                    </div>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span12">
                    <label class="control-label">商品规格:</label>
                </div>
                <div class="span12">
                    <div class="controls j_goodAttrC">
                        /*规格 star*/
                        
                        {{if(it.properties == undefined){ }}
                            <div class="goodAttr">  /*属性*/
                                <div class="goodAttrCon"> /*属性con*/
                                    
                                </div>
                                <div class="goodAttrAdd">
                                    <div><button class="btn" type="button" data-op="addAttr">添加规格项目</button></div>
                                </div>
                            </div>
                        {{ } else{ }}
                            <div class="goodAttr">  /*属性*/
                                <div class="goodAttrCon"> /*属性con*/
                                    {{for(var p=0;p<it.properties.length;p++){}}
                                        {{var item=it.properties[p];}}
                                        
                                            <div class="controls j_goodAttr_sigle" data_id={{=p}} id="j_goodAttr_sigle{{=p}}" > /*属性 sigle*/
                                                <span class="close" data-original-title="circled-plus" data-op="removeAttr">x</span>
                                                <select name="" id="goodsAttrOption" value="{{=item.pname}}">
                                                   
                                                </select>
                                                <div class="addAttr_add">
                                                    <div class="addAttr_add_con">  /*添加的子元素的contain*/
                                                        <div class="sigleBox">
                                                            {{for(var s=0;s<item.values.length;s++){}}
                                                                {{var item_s=item.values[s];}}
                                                                <div class="sigle"  id="j_sigle{{=s}}">
                                                                    <span class="close" data-original-title="circled-plus" data-op="removeSigle">x</span>
                                                                    <p>{{=item_s.value || ''}}</p>
                                                                    <div id="" class="sigle_img"><img data_img='sigle' src="{{=item_s.image || ''}}" alt="" /></div>
                                                                    <input type="file" class="upFile" data_id="imgFile" dataimg_vid="{{=item_s.vid || ''}}" url="{{=item_s.image || ''}}" value="{{=item_s.image || ''}}" />
                                                                </div>
                                                            {{};}}
                                                        </div>
                                                        <div class="addAttrBtn">
                                                            <button class="btn" type="button" id="addSigle" data-op="addSigle" data-toggle="modal" data-target="#crateTags">添加</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    {{};}}
                                </div>
                                <div class="goodAttrAdd">
                                    <div><button class="btn" type="button" data-op="addAttr">添加规格项目</button></div>
                                </div>
                            </div>
                        {{}}}

                        <div class="goodStock">  /*库存*/
                            <div class="span12">
                                <label class="control-label">商品库存</label>
                            </div>
                            <div class="span12">
                                <table class="table table-responsive awardTable" id="j_goodsSigleList">
                                    {{if(it.skus != undefined){ }}
                                        <thead class="cf sorthead">
                                           <tr>
                                                {{for(var i=0;i<it.properties.length;i++){}}
                                                    {{var item_t_s=it.properties[i];}}
                                                    <th>{{=item_t_s.pname}}</th>
                                                {{};}}
                                               <th>价格</th>
                                               <th>库存</th>
                                           </tr>
                                        </thead>
                                        <tbody>
                                            {{for(var r=0;r<it.skus.values.length;r++){}}
                                                {{var item_t=it.skus.values[r];}}
                                                <tr class="gradeX" >
                                                    <td rowspan="{{=it.skus.values.length}}"><input type="text" name="" value="{{=item_t.value}}"/></td>
                                                    {{for(var i=0;i<item_t.next.values.length - 1;i++){}}
                                                        {{var item_b=item_t.next.values[i];}}
                                                            {{ for (var key in item_b){ }}
                                                                {{if(key != "vid"){ }}
                                                                     <td><input type="text" name="{{=key}}" value="{{=item_b[key]}}"/></td>
                                                                {{}}} 
                                                            {{};}}
                                                    {{};}}
                                                </tr>

                                                {{for(var c=0;c<item_t.next.values.length + 1;c++){}}
                                                    {{if(c){}}
                                                        {{var item_c=item_t.next.values[c];}}
                                                        {{ for (var key in item_c){ }}
                                                            {{if(key != "vid"){ }}
                                                                 <td><input type="text" name="{{=key}}" value="{{=item_c[key]}}"/></td>
                                                            {{}}} 
                                                        {{};}}
                                                    {{};}}
                                                {{};}}
                                                   
                                            {{};}}
                                        </tbody>
                                    {{}}}
                                </table>
                            </div>

                            <div class="span12 batchSet" style="margin-top:5px;margin-bottom:10px;">
                                <div class="span3">
                                    <label class="control-label">批量设置:</label>
                                </div>
                                <div class="span11 batch_setting">
                                    <div class="control-group row-fluid" style="border:none">
                                        <div class="span2">
                                            <label class="control-label">价格:</label>
                                        </div>
                                        <div class="span9">
                                            <div class="controls">
                                                <input type="text" id="j_save_price" value=''>
                                                <button class="btn batchBtn" data-op="save_price" value="保存">保存</button><button class="btn" data-op="cancel_price" value="取消">取消</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="control-group row-fluid" style="border:none">
                                        <div class="span2">
                                            <label class="control-label">库存:</label>
                                        </div>
                                        <div class="span9">
                                            <div class="controls">
                                                <input type="text" id="j_save_batch" value=''>
                                                <button class="btn batchBtn" data-op="save_batch" value="保存">保存</button><button class="btn" data-op="cancel_batch" value="取消">取消</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        /*规格 end*/
                    </div>
                    
                </div>
            </div>
        </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn" data-dismiss="modal" data-op="finishCancel">取消</a>
            <a href="javascript:;" class="btn btn-primary" data-op="finishAdd">完成</a>
        </div>
    </script>
    <!--渲染规格列表-->
    <script id="j_view_goodsSigleList"  type="text/html" style="display:none">
        <thead class="cf sorthead">
           <tr>
                {{for(var L=0;L<it.length;L++){}}
                    {{var item_t_L=it[L];}}
                    <th>{{=item_t_L.pname}}</th>
                {{};}}
               <th>价格</th>
               <th>库存</th>
           </tr>
        </thead>
        <tbody>
            {{var arr = []; }}
            {{var arrs = []; }}
            {{ var arr2 =[]; }}
            {{ var arr3 =[]; }}
            
            {{var maxRowspan;var rowsp2;var rowsp3;}}
            {{for(var g=0;g<it.length;g++){}}
                {{var item_t_g=it[g];}}
                {{arr.push(item_t_g.values.length);}}
            {{};}}

            {{arrs = arr;}}

            {{function sortNumber(a,b){return a - b};}}
            {{var ar = arr.sort(sortNumber);}}

            {{   if(ar.length==1){   }} 
            {{        maxRowspan = 1;  }}
            {{    }else if(ar.length==2){  }}
            {{        maxRowspan = arr[1]; }}
            {{    }else{                   }}

                {{    if(it[1].values.length==1){               }}
                {{        maxRowspan = Math.max.apply(null, ar);}}
                {{        rowsp2 = maxRowspan;                  }}
                {{        rowsp3 = 1;                           }}
                {{    }else{                                    }}
                {{       maxRowspan = ar[1]*ar[2];             }}
                {{       rowsp2 = maxRowspan / it[1].values.length;  }}
                {{       rowsp3 = maxRowspan / it[2].values.length;   /*console.log(arr,arrs,rowsp2,rowsp3); */}}
                {{    };                                        }}

            {{    };    }}

            {{for(var m=0;m<it[0].values.length;m++){}} 
                {{var len_1_v = it[0].values[m];}}
                {{ if(ar.length==1){   }}
                    <tr class="gradeX j_strip_x">
                        <td><input type="text" name="" value="{{=len_1_v.value || ''}}"/></td>
                        <td><input type="text" name="price" value=""/></td>  
                        <td><input type="text" name="quantity" value=""/></td>
                    </tr>
                {{ }else if(ar.length==2){   }}

                    {{if(m==0){ }}
                        {{for(var n=0;n<it[1].values.length;n++){}}
                            {{var item_t_n=it[1].values[n];}}
                            {{arr2.push(item_t_n.value);}}
                        {{};}}

                   {{ }  }}

                    <tr class="gradeX j_strip_x">
                        <td rowspan="{{=maxRowspan}}"><input type="text" name="" value="{{=len_1_v.value || ''}}"/></td>   }}
                        <td ><input type="text" name="" value="{{=arr2[0] || ''}}"/></td>  
                        <td><input type="text" name="price" value=""/></td>  
                        <td><input type="text" name="quantity" value=""/></td>
                    </tr>

                    {{for(var v=0;v<arr[1] -1;v++){}}
                        <tr class="gradeX" id="j_{{=m}}">
                            <td><input type="text" name="" value="{{=arr2[v+1] || ''}}"/></td>
                            <td><input type="text" name="price" value=""/></td>  
                            <td><input type="text" name="quantity" value=""/></td>
                        </tr>
                    {{ };}}

                {{ }else{   }}

                     {{if(m==0){ }}

                         {{for(var n=0;n<it[1].values.length;n++){}}
                             {{var item_t_n=it[1].values[n];}}
                             {{arr2.push(item_t_n.value);}}
                         {{};}}

                         {{for(var u=0;u<it[2].values.length;u++){}}
                             {{var item_t_u=it[2].values[u];}}
                             {{arr3.push(item_t_u.value);}}
                         {{};}}

                      {{ };  }}

                {{       if(it[0].values.length==1 &&it[1].values.length==1 && it[2].values.length==1){    }}
                            {{console.log('1-1-1');}}
                            {{ var _value1 = it[0].values[0].value,_value2 = it[1].values[0].value,_value3 = it[2].values[0].value; }}
                             <tr class="gradeX j_strip_x">
                                 <td><input type="text" name="" value="{{=_value1 || ''}}"/></td>
                                 <td><input type="text" name="" value="{{=_value2 || ''}}"/></td>
                                 <td><input type="text" name="" value="{{=_value3 || ''}}"/></td>
                                 <td><input type="text" name="price" value=""/></td>  
                                 <td><input type="text" name="quantity" value=""/></td>
                             </tr>
                  {{     }else if(it[0].values.length==1 &&it[1].values.length>1 && it[2].values.length==1){   }}

                            {{console.log('1-x-1');}}
                            <tr class="gradeX j_strip_x">
                                <td rowspan="{{=maxRowspan}}"><input type="text" name="" value="{{=len_1_v.value || ''}}"/></td> 
                                <td rowspan="{{=rowsp2}}"><input type="text" name="" value="{{=arr2[0] || ''}}"/></td> 
                                <td><input type="text" name="" value="{{=arr3[0] || ''}}"/></td> 
                                <td><input type="text" name="price" value=""/></td> 
                                <td><input type="text" name="quantity" value=""/></td>
                            </tr>
                            {{for(var v=0;v<it[1].values.length -1;v++){}}
                                <tr class="gradeX" id="j_{{=m}}">
                                    <td><input type="text" name="" value="{{=arr2[v+1] || ''}}"/></td>
                                    <td><input type="text" name="" value="{{=arr3[0] || ''}}"/></td>
                                    <td><input type="text" name="price" value=""/></td>  
                                    <td><input type="text" name="quantity" value=""/></td>
                                </tr>
                            {{ };}}
                 {{     }else{   }}
                                {{console.log('其他');}}
                            <tr class="gradeX j_strip_x" data_idx="{{=m}}">
                                <td rowspan="{{=maxRowspan}}"><input type="text" name="" value="{{=len_1_v.value || ''}}"/></td> 
                                <td rowspan="{{=rowsp2}}"><input type="text" name="" value="{{=arr2[0] || ''}}"/></td> 
                                <td><input type="text" name="" value="{{=arr3[0] || ''}}"/></td> 
                                <td><input type="text" name="price" value=""/></td> 
                                <td><input type="text" name="quantity" value=""/></td>
                            </tr>
                            <tr class="gradeX" id="j_{{=m}}"  data_idx="{{=m}}">
                                <td><input type="text" name="" value="{{=arr3[1] || ''}}"/></td>
                                <td><input type="text" name="price" value=""/></td>  
                                <td><input type="text" name="quantity" value=""/></td>
                            </tr>
                            {{for(var x=0;x<it[1].values.length - 1;x++){}}
                                <tr class="gradeX  j_strip_2x"  data_idx="{{=m}}">
                                    <td rowspan="{{=rowsp2}}"><input type="text" name="" value="{{=arr2[x+1] || ''}}"/></td>
                                    <td><input type="text" name="" value="{{=arr3[arr3.length-2] || ''}}"/></td>
                                    <td><input type="text" name="price" value=""/></td>  
                                    <td><input type="text" name="quantity" value=""/></td>
                                </tr>
                                <tr class="gradeX"  data_idx="{{=m}}">
                                    <td><input type="text" name="" value="{{=arr3[arr3.length-1] || ''}}"/></td>
                                    <td><input type="text" name="price" value=""/></td>  
                                    <td><input type="text" name="quantity" value=""/></td>
                                </tr>
                            {{ };   }}
                    {{  };   }}

                    {{};}}  

            {{};}}           
        </tbody>
    </script>
    <!--添加规格-->
    <script id="j_view_goodAttr"  type="text/html" style="display:none">
        <div class="controls j_goodAttr_sigle"> /*属性 sigle*/
            <span class="close" data-original-title="circled-plus" data-op="removeAttr">x</span>
            <select name="" id="goodsAttrOption">
                
            </select>
            <div class="addAttr_add">
                <div class="addAttr_add_con">  /*添加的子元素的contain*/
                    <div class="sigleBox">
                        
                    </div>
                    <div class="addAttrBtn">
                        <button class="btn" type="button" id="addSigle" data-op="addSigle" data-toggle="modal" data-target="#crateTags">添加</button>
                    </div>
                </div>
            </div>
        </div>
    </script>
    <!--渲染下拉列表-->
    <script id="j_view_goodsAttrOption" type="text/html" style="display:none">
        {{var opt=it.hfive_weidian_property_list_response.list;}}
        {{for(var i=0;i<opt.length;i++){}}
                {{var item=opt[i];}}
                <option value={{=item.pid||''}}>{{=item.name||''}}</option>
        {{};}}
    </script>
    <!--添加规格值-->
    <script id="j_view_goodSigle"  type="text/html" style="display:none">
        {{for(var i=0;i<it.length;i++){}}
            {{var item=it[i];}}
            <div class="sigle"  id="j_sigle{{=i}}">
                <span class="close" data-original-title="circled-plus" data-op="removeSigle">x</span>
                <p>{{=item.value || ''}}</p>
                <div id="" class="sigle_img"><img data_img='sigle' src="{{=item.vid || ''}}" alt="" /></div>
                <input type="file" class="upFile" data_id="imgFile" dataimg_vid="{{=item.vid || ''}}" url="{{=item.image || ''}}" value="{{=item.image || ''}}" />
            </div>
        {{};}}
    </script>
    <!--品牌详细-->
    <script id="j_view_brandInfo"  type="text/html" style="display:none">
        <div class="container-fluid " style="border: 1px solid #d1d7df;border-radius: 6px;padding-right: 0px;padding-left: 0px;">
                <div class="form-legend">
                    {{var item=it.hfive_weidian_brand_get_response;}}
                    {{=item.brand_name || "品牌名称"}}
                    {{if(item.is_system!=0){}}
                        <span class="pull-right">
                            <input type="hidden" data-id=brandId value={{=item.brand_id||""}} />
                            <button class="btn" data-toggle="modal" data-op="showBrandModal2">编辑</button>
                            <button type="button" class="btn" data-op="removeBrand">删除</button>
                        </span>
                    {{};}}
                </div>
                <div class="control-group row-fluid">
                    <div class="span12 span-inset">
                        <dl>
                            <dt>
                                <img src="{{=item.brand_url ||'../../../img/weMall/goods/tou.png'}}" class="img-polaroid">
                            </dt>
                            <dd>
                                <p>{{=item.brand_des||"品牌描述"}}</p>
                                <p>商品数量：<span>{{=item.product_count||''}}</span></p>
                            </dd>
                        </dl>
                    </div>
                </div>
        </div>
    </script>
    <!--商品列表-->
    <script id="j_view_awardList"  type="text/html" style="display:none">
        {{var total=it.hfive_weidian_goods_list_response.total||0;}}
        {{var page_size=it.hfive_weidian_goods_list_response.page_total;}}
        {{var award=it.hfive_weidian_goods_list_response.list;}}
        <table class="table table-striped table-responsive awardTable" id="tableSortableResMed" page_size="{{=page_size||0}}">
            <thead class="cf sorthead">
               <tr>
                   <th width="20%" colspan="3">商品名称</th>
                   <th width="15%">商品库存</th>
                   <th width="15%">价格</th>
                   <th width="15%">销量</th>
                   <th width="35%">操作</th>
               </tr>
            </thead>
            <tbody>
                {{for(var i=0;i<award.length;i++){}}
                    {{var item=award[i];}}
                    <tr class="gradeX" product_id={{=item.product_id}}>
                        <td class="awardPlayerImg" colspan="1">
                           <img src="{{=item.image||''}}" />
                        </td>
                        <td class="textLeft"  colspan="2">{{=item.name||''}}</td>
                        <td>{{=item.month_sale||''}}</td>
                        <td>{{=item.price||''}}</td>
                        <td>{{=item.month_sale||''}}</td>
                        <td>
                            <input type="hidden" value={{=item.product_id}} />
                            <button type="button" class="btn" data-toggle="modal" data-target="#goodsAddEdit" data-op="editGood">编辑</button>
                            <button type="button" class="btn" data-op="reviewGood" data_id="copyLink">复制链接</button>
                            <button type="button" class="btn" data-op="removeGood">删除</button>
                        </td>
                    </tr>
                {{};}}
            </tbody>
        </table>        
    </script>
    <!--新建编辑品牌modal-->
    <script id="j_view_brandModal"  type="text/html" style="display:none">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>新建品牌</h3>
        </div>
        <div class="modal-body form-horizontal">
         <div class="container-fluid">
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">品牌名称:</label>
                </div>
                <div class="span9">
                    <div class="controls">
                        <input type="text" id="brandAddName" maxlength="14" value={{=it.brand_name||''}}>
                        <input type="hidden" id="brandAddId" value={{=it.brand_id ||''}}>
                    </div>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">品牌logo:</label>
                </div>
                <div class="span9">
                    <div class="fileupload fileupload-new" data-provides="fileupload">
                        <div class="input-append">
                            <div class="uneditable-input span3">
                                <i class="icon-file fileupload-exists"></i>
                                <span class="fileupload-preview">{{=it.brand_url||''}}</span>
                            </div>
                            <span class="btn btn-file"><span class="fileupload-new">选择上传图片</span><span class="fileupload-exists">更改上传图片</span>
                            <input type="file" data_id="imgFile" id="brandAddUrl" url="{{=it.brand_url||''}}" /></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="span3">
                    <label class="control-label">品牌描述:</label>
                </div>
                <div class="span9">
                    <div class="controls">
                        <textarea rows="2" id="brandAddDes" class="no-resize">{{=it.brand_des||''}}</textarea>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-primary">确定</a>
            <a href="javascript:;" class="btn" data-dismiss="modal">取消</a>
        </div>
    </script>
    <!--提示tip-->
    <script id="j_view_tipsPhoton"  type="text/html" style="display:none">
        {{if(it.code==1){
            var alertClass='alert-success';
            var alertTitle='成功';
            var alertTip=it.msg;
        }else{
            var alertClass='alert-error';
            var alertTitle='失败';
            var alertTip=it.msg;
        };}}
        {{console.log(alertTip);}}
        <div class="alert {{=alertClass}} alert-block">
            <button data-dismiss="alert" class="close" type="button">×</button>
            <strong>{{=alertTitle}}</strong>
            <span>{{=alertTip}}</span>
        </div>
    </script>

</div>
<script type="text/javascript" src="../../_g/pmsg.js"></script>
</body>
</html>
